{
  "name": "CheckMate Spec Drift Detection",
  "description": "Check for drift between implementation and spec after code changes",
  "priority": 4,
  "triggers": [
    "onSaveAll"
  ],
  "condition": {
    "filePatterns": [
      "**/*.ts",
      "**/*.js",
      "**/*.tsx",
      "**/*.jsx"
    ]
  },
  "actions": [
    {
      "name": "checkForDrift",
      "type": "shell",
      "command": "cd $WORKSPACE_DIR && node scripts/cm-spec-drift.js $FILE_PATH",
      "runningMessage": "Checking for spec drift...",
      "finishedMessage": "Spec drift check completed",
      "errorMessage": "⚠️ Possible spec drift detected. Implementation has diverged from spec."
    }
  ],
  "config": {
    "runType": "manual",
    "continueOnError": true
  }
} 